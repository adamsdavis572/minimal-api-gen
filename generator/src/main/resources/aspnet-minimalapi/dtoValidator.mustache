// <auto-generated>
// Code generated by OpenAPI Generator (aspnetcore-minimalapi)
// Changes to this file will be overwritten when regenerating.
// </auto-generated>

using FluentValidation;
using {{packageName}}.DTOs;

namespace {{packageName}}.Validators;

/// <summary>
/// Validator for {{classname}}
/// 
/// Validates {{operationId}} request
/// 
/// </summary>
public class {{classname}}Validator : AbstractValidator<{{classname}}>
{
    public {{classname}}Validator()
    {
{{#vars}}
{{#required}}
        // Required field validation
        RuleFor(x => x.{{name}})
            .NotEmpty()
            .WithMessage("{{name}} is required");
{{/required}}
{{#isString}}
{{#minLength}}
{{#maxLength}}
        // String length validation
        RuleFor(x => x.{{name}})
            .Length({{minLength}}, {{maxLength}})
            .WithMessage("{{name}} must be between {{minLength}} and {{maxLength}} characters");
{{/maxLength}}
{{^maxLength}}
        // Minimum string length validation
        RuleFor(x => x.{{name}})
            .MinimumLength({{minLength}})
            .WithMessage("{{name}} must be at least {{minLength}} characters");
{{/maxLength}}
{{/minLength}}
{{^minLength}}
{{#maxLength}}
        // Maximum string length validation
        RuleFor(x => x.{{name}})
            .MaximumLength({{maxLength}})
            .WithMessage("{{name}} must not exceed {{maxLength}} characters");
{{/maxLength}}
{{/minLength}}
{{#pattern}}
        // Pattern validation
        RuleFor(x => x.{{name}})
            .Matches(@"{{pattern}}")
            .WithMessage("{{name}} must match the specified pattern");
{{/pattern}}
{{/isString}}
{{#isNumeric}}
{{#minimum}}
        // Minimum value validation
        RuleFor(x => x.{{name}})
            .GreaterThanOrEqualTo({{minimum}})
            .WithMessage("{{name}} must be at least {{minimum}}");
{{/minimum}}
{{#maximum}}
        // Maximum value validation
        RuleFor(x => x.{{name}})
            .LessThanOrEqualTo({{maximum}})
            .WithMessage("{{name}} must not exceed {{maximum}}");
{{/maximum}}
{{/isNumeric}}
{{#isArray}}
{{#minItems}}
{{#maxItems}}
        // Array size validation
        RuleFor(x => x.{{name}})
            .Must(x => x != null && x.Count >= {{minItems}} && x.Count <= {{maxItems}})
            .WithMessage("{{name}} must contain between {{minItems}} and {{maxItems}} items");
{{/maxItems}}
{{^maxItems}}
        // Minimum array size validation
        RuleFor(x => x.{{name}})
            .Must(x => x != null && x.Count >= {{minItems}})
            .WithMessage("{{name}} must contain at least {{minItems}} items");
{{/maxItems}}
{{/minItems}}
{{^minItems}}
{{#maxItems}}
        // Maximum array size validation
        RuleFor(x => x.{{name}})
            .Must(x => x != null && x.Count <= {{maxItems}})
            .WithMessage("{{name}} must not contain more than {{maxItems}} items");
{{/maxItems}}
{{/minItems}}
{{/isArray}}
{{#complexType}}
{{^isArray}}
        // Nested object validation
        RuleFor(x => x.{{name}})
            .SetValidator(new {{dataType}}Validator())
            .When(x => x.{{name}} != null);
{{/isArray}}
{{#isArray}}
        // TODO: Nested array validation requires proper DTO type mapping
        // RuleForEach validation for complex array items will be added in future enhancement
{{/isArray}}
{{/complexType}}
{{/vars}}
    }
}
